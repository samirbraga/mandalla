var body=document.body,sections=document.querySelectorAll("section, .introduce"),biographies=document.querySelector(".section-numbers .biographies"),biographiesNumber=biographies.querySelector(".number"),histories=document.querySelector(".section-numbers .history"),historyNumber=histories.querySelector(".number"),followers=document.querySelector(".section-numbers .followers"),followersNumber=followers.querySelector(".number"),establishments=document.querySelector(".section-numbers .establishments"),establishmentsNumber=establishments.querySelector(".number"),biographiesLength=200,passedChecker={};$(sections).each(function(e,t){passedChecker[e.className.split(" ")[0]]=!1});var passScroll=function(){function e(e){return e=e.getBoundingClientRect(),{left:e.left,top:e.top+t}}var t=body.scrollTop||window.scrollY;$(sections).each(function(n,o){var s=passedChecker[n.className.split(" ")[0]],r=parseFloat(n.getAttribute("data-animation-offset"))||250;if(t>e(n).top-r&&!s){var i=parseFloat(n.getAttribute("data-animation-delay"))||100;if(passedChecker[n.className.split(" ")[0]]=!0,1==o){animateCounting(dataEstablishments.length,0,4e3,function(e){establishmentsNumber.innerHTML=e.formatDot()}),animateCounting(200,0,4e3,function(e){biographiesNumber.innerHTML="+"+e.formatDot()}),animateCounting(followed_byCount,0,4e3,function(e){followersNumber.innerHTML=e.formatDot()});var l=fulldate.year-2014;animateCounting(l,0,4e3,function(e){historyNumber.innerHTML=e})}var a=n.querySelectorAll(".animation-point");a&&a.length>0&&$(a).each(function(e,t){setTimeout(function(){$(e).class.add("passed")},(t+1)*i)})}})};if(0==mobileDetect)window.addEventListener("scroll",passScroll),window.addEventListener("DOMMouseScroll",passScroll),window.addEventListener("mousewheel",passScroll),window.addEventListener("wheel",passScroll),window.addEventListener("DOMContentLoaded",passScroll);else{var passedNumbers=!1,animateNumbers=function(){var e=body.scrollTop||window.scrollY;if(e>=function(t){return t=t.getBoundingClientRect(),{left:t.left,top:t.top+e}}(sections[1]).top&&!passedNumbers){passedNumbers=!0,animateCounting(dataEstablishments.length,0,4e3,function(e){console.log(dataEstablishments.length),establishmentsNumber.innerHTML=e.formatDot()}),animateCounting(200,0,4e3,function(e){biographiesNumber.innerHTML="+"+e.formatDot()}),animateCounting(followed_byCount,0,4e3,function(e){followersNumber.innerHTML=e.formatDot()});var t=fulldate.year-2014;animateCounting(t,0,4e3,function(e){historyNumber.innerHTML=e})}};window.addEventListener("scroll",animateNumbers),window.addEventListener("DOMMouseScroll",animateNumbers),window.addEventListener("mousewheel",animateNumbers),window.addEventListener("wheel",animateNumbers),window.addEventListener("DOMContentLoaded",animateNumbers)}var depositionsCarousel=function(){function e(){o.scrollLeft=h()}var t=document.querySelector(".depositions .arrow-scroll-left"),n=document.querySelector(".depositions .arrow-scroll-right"),o=document.querySelector(".depositions .depositions-container"),s=document.querySelectorAll(".depositions .depositions-container .depositions-wrapper"),r=document.querySelectorAll(".depositions .depositions-index-marker")[0];$(s).each(function(e,t){r.innerHTML+="<span data-index='"+(+t+1)+"' ></span>"});var i=document.querySelectorAll(".depositions .depositions-index-marker span");$(i[0]).class.add("selected");var l=s[0],a=s[s.length-1];o.innerHTML=a.outerHTML+o.innerHTML,o.innerHTML=o.innerHTML+l.outerHTML,s=document.querySelectorAll(".depositions .depositions-container .depositions-wrapper");var c=function(e){return e<0?e*-1:e},u=function(){return s[0].offsetWidth},d=1,m=function(e){d=e,o.setAttribute("data-index",d)},f=function(){return parseFloat(o.getAttribute("data-index"))};m(1);var h=function(){return f()*u()},p=function(){v=o.scrollLeft},w=function(e){e=e||h(),$(o).scrollX(e,400)},b=s.length-2;$(i).on("click",function(){var e=this.getAttribute("data-index");m(e),w(),$(i).class.remove("selected"),$(i[+e-1]).class.add("selected")}),w();var v,g=null,L=null,y=!1;$(o).on("mousedown",function(e){g=e.pageX,y=!0,p()}),$(o).on("touchstart",function(e){g=e.changedTouches[0].pageX,y=!0,p()}),$(window).on("mouseup",function(e){y=!1,w()}),$(window).on("touchend",function(e){y=!1,w()});var S=function(e){e.preventDefault(),e.stopPropagation(),y=!1;var t=g-L;c(t)>u()/3?t>0?T():E():w()};$(o).on("mouseup",S),$(o).on("touchend",S),$(o).on("mousemove",function(e){if(L=e.pageX,y){this.scrollLeft=v+(g-L)}}),$(o).on("touchmove",function(e){if(L=e.changedTouches[0].pageX,y){this.scrollLeft=v+(g-L)}}),optimizedResize.add(e),window.addEventListener("orientationchange",e);var M,N,T=function(){p(),clearTimeout(M),f()>=b?(w(h()+u()),M=setTimeout(function(){$(i).class.remove("selected"),$(i[0]).class.add("selected"),m(1),o.scrollLeft=h()},500)):($(i).class.remove("selected"),$(i[+f()]).class.add("selected"),m(f()+1),$(o).scrollX(h(),500))},E=function(){p(),clearTimeout(N),f()>1?($(i).class.remove("selected"),$(i[+f()-2]).class.add("selected"),m(f()-1),$(o).scrollX(h(),500)):($(o).scrollX(h()-u(),400),N=setTimeout(function(){m(b),$(i).class.remove("selected"),$(i[+b-1]).class.add("selected"),o.scrollLeft=h()},500))};$(n).on("click",T),$(t).on("click",E)};depositionsCarousel();var clientsCarousel=function(){function e(){t=setInterval(function(){c(),d()},2e3)}var t,n={left:document.querySelector(".clients .clients-list-container .arrow-scroll-left"),right:document.querySelector(".clients .clients-list-container .arrow-scroll-right")},o=document.querySelector(".clients .clients-list-container"),s=document.querySelector(".clients .clients-list"),r=document.querySelectorAll(".clients-list .client"),i=100/r.length,l=0,a=Math.floor(r.length/2)*i;s.style.transform="translateX("+a+"%)";var c=function(){a>-((r.length-2-Math.floor(r.length/2))*i)?(a-=i,l+=1):(a=Math.floor(r.length/2)*i,l=0)},u=function(){a<(r.length-2-Math.floor(r.length/2))*i?(a+=i,l-=1):(a=-((r.length-1-Math.floor(r.length/2))*i),l=r.length-1)};r[l].className+=" selected";var d=function(){var e=window.innerWidth;l==r.length-1?s.style.transform="translateX("+-(+a+e/2)+"pz)":s.style.transform="translateX("+a+"%)",[].forEach.call(r,function(e){e.className="client"}),r[l].className+=" selected"};n.left.addEventListener("click",function(){u(),d()}),n.right.addEventListener("click",function(){c(),d()}),o.addEventListener("mouseenter",function(){clearInterval(t)}),o.addEventListener("mouseleave",e),e()},fixTopBar=function(){var e=body.scrollTop||window.scrollY,t=document.querySelector(".topbar"),n=function(){var n=body.scrollTop||window.scrollY;n>0?$(t).class.replace("static","fixed"):$(t).class.replace("fixed","static"),e=n};window.addEventListener("scroll",n),window.addEventListener("DOMMouseScroll",n),window.addEventListener("mousewheel",n),window.addEventListener("wheel",n)};document.addEventListener("DOMContentLoaded",function(){});