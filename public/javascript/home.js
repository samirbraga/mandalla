var body=document.body,sections=document.querySelectorAll("section, .introduce"),biographies=document.querySelector(".section-numbers .biographies"),biographiesNumber=biographies.querySelector(".number"),histories=document.querySelector(".section-numbers .history"),historyNumber=histories.querySelector(".number"),followers=document.querySelector(".section-numbers .followers"),followersNumber=followers.querySelector(".number"),establishments=document.querySelector(".section-numbers .establishments"),establishmentsNumber=establishments.querySelector(".number"),biographiesLength=200,passedChecker={};$(sections).each(function(e,t){passedChecker[e.className.split(" ")[0]]=!1});var passScroll=function(){function e(e){return e=e.getBoundingClientRect(),{left:e.left,top:e.top+t}}var t=body.scrollTop||window.scrollY;$(sections).each(function(n,o){var s=passedChecker[n.className.split(" ")[0]],r=parseFloat(n.getAttribute("data-animation-offset"))||250;if(t>e(n).top-r&&!s){var i=parseFloat(n.getAttribute("data-animation-delay"))||100;if(passedChecker[n.className.split(" ")[0]]=!0,1==o){animateCounting(dataEstablishments.length,0,4e3,function(e){establishmentsNumber.innerHTML=e.formatDot()}),animateCounting(200,0,4e3,function(e){biographiesNumber.innerHTML="+"+e.formatDot()}),animateCounting(followed_byCount,0,4e3,function(e){followersNumber.innerHTML=e.formatDot()});var l=fulldate.year-2014;animateCounting(l,0,4e3,function(e){historyNumber.innerHTML=e})}var c=n.querySelectorAll(".animation-point");c&&c.length>0&&$(c).each(function(e,t){setTimeout(function(){$(e).class.add("passed")},(t+1)*i)})}})};window.addEventListener("scroll",passScroll),window.addEventListener("DOMMouseScroll",passScroll),window.addEventListener("mousewheel",passScroll),window.addEventListener("wheel",passScroll),window.addEventListener("DOMContentLoaded",passScroll);var depositionsCarousel=function(){function e(){o.scrollLeft=h()}var t=document.querySelector(".depositions .arrow-scroll-left"),n=document.querySelector(".depositions .arrow-scroll-right"),o=document.querySelector(".depositions .depositions-container"),s=document.querySelectorAll(".depositions .depositions-container .depositions-wrapper"),r=document.querySelectorAll(".depositions .depositions-index-marker")[0];$(s).each(function(e,t){r.innerHTML+="<span data-index='"+(+t+1)+"' ></span>"});var i=document.querySelectorAll(".depositions .depositions-index-marker span");$(i[0]).class.add("selected");var l=s[0],c=s[s.length-1];o.innerHTML=c.outerHTML+o.innerHTML,o.innerHTML=o.innerHTML+l.outerHTML,s=document.querySelectorAll(".depositions .depositions-container .depositions-wrapper");var a=function(e){return e<0?e*-1:e},d=function(){return s[0].offsetWidth},u=1,f=function(e){u=e,o.setAttribute("data-index",u)},m=function(){return parseFloat(o.getAttribute("data-index"))};f(1);var h=function(){return m()*d()},p=function(){g=o.scrollLeft},v=function(e){e=e||h(),$(o).scrollX(e,400)},w=s.length-2;$(i).on("click",function(){var e=this.getAttribute("data-index");f(e),v(),$(i).class.remove("selected"),$(i[+e-1]).class.add("selected")}),v();var g,b=null,y=null,L=!1;$(o).on("mousedown",function(e){b=e.pageX,L=!0,p()}),$(o).on("touchstart",function(e){b=e.changedTouches[0].pageX,L=!0,p()}),$(window).on("mouseup",function(e){L=!1,v()}),$(window).on("touchend",function(e){L=!1,v()});var S=function(e){e.preventDefault(),e.stopPropagation(),L=!1;var t=b-y;a(t)>d()/3?t>0?T():E():v()};$(o).on("mouseup",S),$(o).on("touchend",S),$(o).on("mousemove",function(e){if(y=e.pageX,L){this.scrollLeft=g+(b-y)}}),$(o).on("touchmove",function(e){if(y=e.changedTouches[0].pageX,L){this.scrollLeft=g+(b-y)}}),optimizedResize.add(e),window.addEventListener("orientationchange",e);var q,M,T=function(){p(),clearTimeout(q),m()>=w?(v(h()+d()),q=setTimeout(function(){$(i).class.remove("selected"),$(i[0]).class.add("selected"),f(1),o.scrollLeft=h()},500)):($(i).class.remove("selected"),$(i[+m()]).class.add("selected"),f(m()+1),$(o).scrollX(h(),500))},E=function(){p(),clearTimeout(M),m()>1?($(i).class.remove("selected"),$(i[+m()-2]).class.add("selected"),f(m()-1),$(o).scrollX(h(),500)):($(o).scrollX(h()-d(),400),M=setTimeout(function(){f(w),$(i).class.remove("selected"),$(i[+w-1]).class.add("selected"),o.scrollLeft=h()},500))};$(n).on("click",T),$(t).on("click",E)};depositionsCarousel();var clientsCarousel=function(){function e(){t=setInterval(function(){a(),u()},2e3)}var t,n={left:document.querySelector(".clients .clients-list-container .arrow-scroll-left"),right:document.querySelector(".clients .clients-list-container .arrow-scroll-right")},o=document.querySelector(".clients .clients-list-container"),s=document.querySelector(".clients .clients-list"),r=document.querySelectorAll(".clients-list .client"),i=100/r.length,l=0,c=Math.floor(r.length/2)*i;s.style.transform="translateX("+c+"%)";var a=function(){c>-((r.length-2-Math.floor(r.length/2))*i)?(c-=i,l+=1):(c=Math.floor(r.length/2)*i,l=0)},d=function(){c<(r.length-2-Math.floor(r.length/2))*i?(c+=i,l-=1):(c=-((r.length-1-Math.floor(r.length/2))*i),l=r.length-1)};r[l].className+=" selected";var u=function(){var e=window.innerWidth;l==r.length-1?s.style.transform="translateX("+-(+c+e/2)+"pz)":s.style.transform="translateX("+c+"%)",[].forEach.call(r,function(e){e.className="client"}),r[l].className+=" selected"};n.left.addEventListener("click",function(){d(),u()}),n.right.addEventListener("click",function(){a(),u()}),o.addEventListener("mouseenter",function(){clearInterval(t)}),o.addEventListener("mouseleave",e),e()},fixTopBar=function(){var e=body.scrollTop||window.scrollY,t=document.querySelector(".topbar"),n=function(){var n=body.scrollTop||window.scrollY;n>0?$(t).class.replace("static","fixed"):$(t).class.replace("fixed","static"),e=n};window.addEventListener("scroll",n),window.addEventListener("DOMMouseScroll",n),window.addEventListener("mousewheel",n),window.addEventListener("wheel",n)};document.addEventListener("DOMContentLoaded",function(){});