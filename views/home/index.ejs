<!DOCTYPE html>
<html lang="pt-br">
	<head>
		<meta charset="utf-8">
		<title>Ruas Biográficas</title>
		<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
		<link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
		<link rel="icon" href="/favicon.ico" type="image/x-icon">
		<link href="/public/stylesheet/general.css" rel="stylesheet">
		<link href="/public/stylesheet/home.css" rel="stylesheet">
		<link href="https://fonts.googleapis.com/css?family=Maven+Pro|Raleway|Ubuntu" rel="stylesheet">
		<link href="/public/stylesheet/libs/font-awesome/font-awesome.min.css" rel="stylesheet">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<meta http-equiv="content-type" content="text/html; charset=iso-8859-1" />
		<meta http-equiv="content-language" content="br" />
		<script src="/public/javascript/libs/modernizr/modernizr.js" ></script>
		<script src="/public/javascript/general.js" ></script>
		<script type="text/javascript">
			var dataRequest = function(code, callback){
	      var xml = new XMLHttpRequest();
	    	var url = "/data?q=" + code;
	    	xml.open("GET", url);
	    	xml.responseType = "text";
	    	xml.onload = function () {
	    	    if(xml.readyState === 4){
	    	        if(xml.status === 200 || xml.status == 0){
	              	var data = xml.response;
									callback(null, JSON.parse(data));
	    	        }else{
									callback(xml.statusText, null);
								}
	    	    }
	    	}
	    	xml.send();
			}
	    var dataEstablishments;
		</script>
	</head>
	<body>

		<!-- .topbar -->
		<$- include('../topbar', {classTopbar: ''}); $>

		<!-- Section .introduce -->
		<$- include('./partials/section-introduce'); $>

		<!-- Section .portfolio -->
		<$- include('./partials/section-numbers'); $>

    <section class="splitter-phrase" >
      <div class="wrapper responsive-width">
				<div class="vertical-align">
					<p>MAIS DE 200 RUAS</p>
					<p>MUITAS HISTÓRIAS</p>
					<hr>
				</div>
      </div>
    </section>

		<!-- Section .who-we-are -->
		<$- include('./partials/section-maps'); $>

		<!-- Section .components -->
		<$- include('./partials/section-demo'); $>

		<div style="
			height: 300px;
			width: 100%;
			background-image: url('/public/images/background-splitter.png');
			background-repeat: no-repeat;
			background-size: cover;
		">
		</div>

		<!-- Section .clients -->
		<$- include('./partials/section-galery'); $>

		<!-- Section .depositions -->
		<$- include('./partials/section-depositions'); $>

		<section class="section-sponsors">
			<header class="section-title bottom" >
				<div>
					<h2>Patrocinadores</h2>
					<span></span>
				</div>
			</header>
			<article>

			</article>
		</section>

		<section class="section-support">
			<header class="section-title bottom" >
				<div>
					<h2>Apoio</h2>
					<span></span>
				</div>
			</header>
			<article>
				<div class></div>
			</article>
		</section>

		<!-- .main-footer -->
		<$- include('../footer'); $>

		<!-- Copyright (c) 2017 Copyright Holder All Rights Reserved. -->

		<script src="https://developers.google.com/maps/documentation/javascript/examples/markerclusterer/markerclusterer.js"></script>
		<script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDF6m-mdz6eTmb-x5CuGaGXkBUjjaceVSE&callback=initMap" defer async></script>
		<script type="text/javascript">
			function animateProjectNumbers(){
				var biographies = document.querySelector('.section-numbers .biographies');
				var biographiesNumber = biographies.querySelector('.number');
				var history = document.querySelector('.section-numbers .history');
				var historyNumber = history.querySelector('.number');
				var followers = document.querySelector('.section-numbers .followers');
				var followersNumber = followers.querySelector('.number');
				var establishments = document.querySelector('.section-numbers .establishments');
				var establishmentsNumber = establishments.querySelector('.number');

				var biographiesLength = 200;

				dataRequest('establishments', function(err, data){
					if(!err) dataEstablishments = data;

					animateCounting(dataEstablishments.length, 0, 4000, function(currentValue){
						establishmentsNumber.innerHTML = currentValue.formatDot();
					});

					mapConfig();
				});

				animateCounting(biographiesLength, 0, 4000, function(currentValue){
					biographiesNumber.innerHTML = "+" + currentValue.formatDot();
				});

				dataRequest('insta', function(error, data){
					var followed_byCount;
					if(!error){
						followed_byCount = data.data.counts.followed_by;
					}else{
						followed_byCount = 6709;
					}
					animateCounting(followed_byCount, 0, 4000, function(currentValue){
						followersNumber.innerHTML = currentValue.formatDot();
					});
				});

				var fulldate = <$- JSON.stringify(data.fulldate); $>;
				var time = fulldate.year - 2014;
				animateCounting(time, 0, 4000, function(currentValue){
					historyNumber.innerHTML = currentValue;
				});
			};
		</script>
		<$- include('partials/google-maps-script'); $>
		<script src="/public/javascript/home.js" ></script>
		<script src="/public/javascript/libs/smooth-scroll/smoothscroll.js" ></script>
	</body>
</html>
